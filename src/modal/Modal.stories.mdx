
import { Meta, Story } from '@storybook/addon-docs';
import './index';
import '../button/index.js'

<Meta title="Example/Modal" />

<!-- ğŸ‘‡ We create a â€œtemplateâ€ of how args map to rendering -->

export const Template = (args) => {
  return <div>
    <wheat-button>button</wheat-button>
    <wheat-modal visible='false'>modal</wheat-modal>
  </div>
};

<!-- ğŸ‘‡ Each story then reuses that template -->
<Story
  name="Primary"
  args={{
    primary: true,
    label: 'Button',
  }}>
  {Template.bind({})}
</Story>


<!-- 
export const Template = (args) => html`
<wheat-button>button</wheat-button>
<wheat-modal visible='false'>modal</wheat-modal>
`; -->


<Canvas>
  <Story name="åŸºç¡€ä½¿ç”¨" args={{ 
      label: 'åŸºç¡€ä½¿ç”¨'
    }}>
    {Template.bind({})}
   </Story>
</Canvas>



## åœ¨ React ä¸­ä½¿ç”¨
```js
import React, { useState, useEffect } from 'react'
import 'web-component-wheat-ui/dist/modal'
import 'web-component-wheat-ui/dist/button'
const App = () => {
  const [visible, setvisible] = useState(false)
  useEffect(() => {
    const MyModalDom = document.querySelector('wheat-modal')
    MyModalDom.addEventListener('onCancel', value => {
      const {
        detail: { visible }
      } = value
      console.log('è§¦å‘å–æ¶ˆæ–¹æ³•')
      setvisible(visible)
    })

    MyModalDom.addEventListener('onConfirm', value => {
      console.log('è§¦å‘ç¡®å®šæ–¹æ³•')
      setvisible(false)
    })
  }, [])
  return (
    <div className='App'>
     <wheat-button onClick={() => {
          setvisible(true)
        }} id="open" type="line">
      æ‰“å¼€å¼¹æ¡†
    </wheat-button>
    <wheat-modal title='title' visible={visible}>
      <div slot='wheat-modal-close-icon'>close</div>
      <div slot='content'>å¼¹æ¡†å†…å®¹</div>
    </wheat-modal>
    </div>
  )
}

export default App
```

## åœ¨ Vue ä¸­ä½¿ç”¨

```html
<template>
  <div class="hello">
    <wheat-button @click="showModal">
      æ˜¾ç¤ºå¼¹æ¡†
    </wheat-button>
    <wheat-modal title="title" :visible="visible">
      <div slot="content">å¼¹æ¡†å†…å®¹</div>
    </wheat-modal>
  </div>
</template>

<script>
import 'web-component-wheat-ui'
import 'web-component-wheat-ui/dist/static/variables.css'
export default {
  name: 'HelloWorld',
  props: {
    msg: String
  },
  data() {
    return {
      visible: false
    }
  },
  mounted() {
    const MyModalDom = document.querySelector('wheat-modal')
    MyModalDom.addEventListener('onCancel', (value) => {
      const {
        detail: { visible }
      } = value
      console.log('è§¦å‘å–æ¶ˆæ–¹æ³•', value, visible)
      this.visible = 'false'
    })

    MyModalDom.addEventListener('onConfirm', (value) => {
      console.log('è§¦å‘ç¡®å®šæ–¹æ³•', value)
      this.visible = 'false'
      this.hidden()
    })
  },
  methods: {
    showModal() {
      console.log('click')
      this.visible = true
    },
    hidden() {
      this.visible = 'false'
    }
  }
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>
h3 {
  margin: 40px 0 0;
}
ul {
  list-style-type: none;
  padding: 0;
}
li {
  display: inline-block;
  margin: 0 10px;
}
a {
  color: #42b983;
}
</style>

```
## Attribute

| å‚æ•°          | è¯´æ˜                       | ç±»å‹                | å¯é€‰å€¼               | é»˜è®¤å€¼    |
| ------------- | -------------------------- | ------------------- | -------------------- | --------- |
| title         | æ¨¡æ€æ¡†æ ‡é¢˜                 | string \| ReactNode | -                    | -         |
| visible       | æ˜¯å¦æ˜¾ç¤ºæ¨¡æ€æ¡†             | boolean             | true \| false        | false     |
| closeable     | æ˜¯å¦å±•ç¤ºå³ä¸Šè§’å…³é—­æŒ‰é’®     | boolean             | true \| false        | true      |
| maskClosable | æ˜¯å¦å…è®¸ç‚¹å‡»è’™å±‚å…³é—­æ¨¡æ€æ¡† | boolean             | true \| false        | true      |
| cancelText    | å–æ¶ˆæŒ‰é’®æ–‡æ¡ˆ               | string              | -                    | 'å–æ¶ˆ'    |
| confirmText   | ç¡®è®¤æŒ‰é’®æ–‡æ¡ˆ               | string              | -                    | 'ç¡®å®š'    |
| size         | æ¨¡æ€æ¡†å°ºå¯¸           | string              | 'default' \| 'large'  \| 'small'     |  'default'     |
| style         | è‡ªå®šä¹‰æ¨¡æ€æ¡†æ ·å¼           | object              | -                    | -         |
| footer        | è‡ªå®šä¹‰æ¨¡æ€æ¡†åº•éƒ¨           | ReactNode \| null   | -                    | -         |

## Events

| åç§°      | è¯´æ˜                 | ç±»å‹       | å‚æ•° | è¿”å›å€¼ |
| --------- | -------------------- | ---------- | ---- | ------ |
| onConfirm | ç¡®è®¤äº‹ä»¶è§¦å‘æ—¶çš„å›è°ƒ | () => void | -    | -      |
| onCancel  | å–æ¶ˆäº‹ä»¶è§¦å‘æ—¶çš„å›è°ƒ | () => void | -    | -      |
